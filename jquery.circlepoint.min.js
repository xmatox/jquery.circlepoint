/*
* Circlepoint v1.0.2
* jQuery Plugin for interactive point circles
* https://github.com/xmatox/jquery-circlepoint
*
* Copyright (c) 2015 Thomas Abadie
* Released under the MIT license
*/
!function(n){function i(n,i,t,o){for(var s=new Array,e=0;o>e;e++){var c=2*e*Math.PI/o,r=180*c/Math.PI;x=n+t*Math.sin(c),y=i+t*Math.cos(c),s.push({x:x,y:y,angle:r})}return s}var t="circlepoint_input_"+Math.floor(1e7*Math.random()+1),o={nbPoint:16,totalSize:60,input:t,input_value:0,input_fontSize:15,sizePointSup:10,sizePointInf:6,sizePoint:4,typePoint:"rond",bgdColorSup:"#333",bgdColorInf:"#666",bgdColor:"#999",bgdColorHover:"#FFCC00",changeAction:null};jQuery.fn.circlepoint=function(t){return t=n.extend({},o,t),this.each(function(){var o=n(this);o.css("position","relative");var s=t.totalSize;o.css("height",s),o.css("width",s);var e=(s-t.sizePointSup)/2;if(t.input){var c="<input id='"+t.input+"' value='"+t.input_value+"'>",r=n(c).appendTo(o),a=s-2*t.sizePointSup,p=t.input_fontSize,u=p+2,l=t.sizePointSup,d=s/2-u/2;r.css("position","absolute"),r.css("border",0),r.css("margin",0),r.css("padding",0),r.css("text-align","center"),r.css("font-weight","bold"),r.css("vertical-align","middle"),r.css("background","none"),r.css("font-size",p+"px"),r.css("width",a+"px"),r.css("height",u+"px"),r.css("left",l+"px"),r.css("top",d+"px"),r.on("changeAction",t.changeAction),r.change(function(){r.trigger("changeAction")})}var g=t.nbPoint,h=g/4,f=g/8;points=i(e,e,e,g),n.each(points,function(i,s){var e=t.bgdColor,c=t.bgdColorHover,r=t.sizePoint,a=t.sizePoint;i%h==0?(e=t.bgdColorSup,r=t.sizePointSup,a=t.sizePointSup):i%f==0&&(e=t.bgdColorInf,r=t.sizePointInf,a=t.sizePointInf);var p=Math.floor(1e7*Math.random()+1),u="<div id='jcp__point_"+p+"'></div>",l=t.sizePointSup/2+s.x-a/2,d=t.sizePointSup/2+s.y-a/2,g=s.angle-180;-180==g&&(g=180),g=Math.round(100*g)/100;var v=n(u).appendTo(o);v.css("top",l+"px").css("left",d+"px"),v.css("position","absolute"),"rond"==t.typePoint&&v.css("border-radius","50%"),v.css("background-color",e),v.css("height",r+"px"),v.css("width",r+"px"),v.css("cursor","pointer"),v.attr("data-angle",g),v.hover(function(){v.css("background-color",c)},function(){v.css("background-color",e)}),v.click(function(){var i=n(this).attr("data-angle");t.input&&(n("#"+t.input).val(i),n("#"+t.input).trigger("changeAction"))})})})}}(jQuery);